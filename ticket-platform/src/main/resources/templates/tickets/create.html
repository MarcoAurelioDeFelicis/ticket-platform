<!DOCTYPE HTML>
<html xmlns:th= "http://www.thymeleaf.org" lang="en">
<head>
	
	<!-- Required meta tags -->
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	
	<!-- Bootstrap CSS -->
	<link th:rel="stylesheet"
		th:href="@{/webjars/bootstrap/5.1.3/css/bootstrap.min.css}" />
	
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
	
<title>CREATE</title>
</head>
<body>
	<h1 class="fs-2">Inserisci i valori del ticket</h1>
	
	<div class="container">
		<form id="ticket-form"
			      th:object="${ticket}"
			      th:action="@{/tickets/create}"
			      method="post">
				  
				  
				  <label for-"title" name="title">TITLE</label>
				  <input type="text" class="form-control" 
						 id="title" th:field="*{title}" th:errorClass="is-invalid">
				  <div th:if="${#fields.hasErrors('title')}" class="invalid-feedback">
					<ul>
						<li th:each="err : ${#fields.errors('title')}" 
							th:text="${err}"></li>
					</ul>
				  </div>
				  
				  <div class="mb-3">
				      <label for="body" class="form-label">BODY</label>
				      <div class="mb-3">
				          <textarea class="form-control " placeholder="Scrivi qui il tuo ticket" id="body"
				              th:field="*{body}" rows="8" maxlength="800" th:errorClass="is-invalid"></textarea>
				      </div>
				      <div th:if="${#fields.hasErrors('body')}" class="invalid-feedback d-block">
				          <ul>
				              <li th:each="err : ${#fields.errors('body')}" th:text="${err}"></li>
				          </ul>
				      </div>
				  </div>
				  
				  <div class="mb-3">
				      <label for="category" class="form-label">CATEGORIA</label>
				      <select id="category" name="category" th:field="*{category.id}">
				       <option th:each="category : ${category}" th:value="${category.id}" th:text="${category.name}"></option>
				      </select>
				  </div>
				  
				  <div class="mb-3">
				      <label for="utenteDisponibile" class="form-label">OPERATORI</label>
				      <select id="utenteDisponibile" th:field="*{user}" class="form-select">
				          <option th:each="user : ${utenteDisponibile}" th:value="${user.id}" th:text="${user.username}"></option>
				      </select>
				  </div>
				  
				  <button class="btn btn-primary"> APRI </button>
		</form>
			      <a class="btn btn-primary" 
			  		th:href="@{/tickets}"> LISTA TICKET
			      </a>		
	</div>
	
	<script th:src="@{/webjars/bootstrap/5.1.3/js/bootstrap.bundle.min.js}"></script>	
</body>
</html>